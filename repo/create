# Make executable with chmod +x create
clear
## CONFIG:
USERNAME=$(cat ../.username)
ORGANISATION=$(cat ../.organisation)
PASSWORD=$(cat ../.password)
TOKEN=$(cat ../.token) # Enter your GitHub Authentication Token.  Set this up at: https://github.com/settings/tokens
PRIVATE=$(cat ../.token)
## Create
github-repo-create () {
  if [ $1 ]
	then
    REPONAME=$1
  else
    echo "(1/5) Enter repo name:"
    read REPONAME
  fi

  echo "(2/5) Do you want to add a repo DESCRIPTION? [y/n]"
  read DESCRIPTION_YES

  if [ $DESCRIPTION_YES == "y" ]
  then
    echo "(3/5) Type your DESCRIPTION:"
    read DESCRIPTION

    echo -n "(4/5) Creating Github repository '$REPONAME' "
    curl -i -u '$USERNAME:$TOKEN' -d '{"name":"'$REPONAME'","auto_init":"true", "description":"'"$DESCRIPTION"'"}' https://api.github.com/user/repos
    echo -n "done."

    echo -n "(5/5) Pushing local code to remote"
    git remote add origin git@github.com:a-a-ron/$REPONAME.git
    git push -u origin master
    echo "done."

  else
    echo -n "(3/5) Repo will be created with no DESCRIPTION"
    echo

    echo -n "(4/5) Creating Github repository '$REPONAME' "
    curl -i -u '$USERNAME:$TOKEN' -d '{"name":"'$REPONAME'","auto_init":"true"}' https://api.github.com/user/repos
    echo "done."

    echo -n "(5/5) Pushing local code to remote "
    git remote add origin git@github.com:USERNAME/$REPONAME.git
    git push -u origin master
    echo "done."

  fi
}